## 存储管理

### 2.1 内存管理的基本框架

[0000 0000 00 + 00 0000 0000 + 0000 0000 0000]
[页面目录 + 中间目录 + 页面表]
PGD      PMD       PT 中的每个表项称为 PTE(Page Table Entry)

GDT 中的第 2 项和第 3 项用于内核的代码段和数据段，第 4 和第 5 项永远用于当前进程的代码段和数据段

**理论上系统中最大的进程数量是 4090**



### 2.2 地址映射的全过程

只要是在 i386 CPU 上实现，就必须至少在形式上要先经过段式映射，然后才能进行页式映射

```c
#include<stdio.h>
greeting() 
{
    printf("hello world\n");
}

main()
{
    greeting();
}
```

```assembly
08048368 <greeting>:

08048380 <main>:

```

ld（链接器）给 greeting() 分配的地址为 0x08048368。在 elf 格式的可执行代码中，ld 总是从 0x08000000 开始安排程序的“代码段”。